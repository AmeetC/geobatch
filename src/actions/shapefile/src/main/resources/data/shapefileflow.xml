<?xml version="1.0" encoding="UTF-8"?>
<FlowConfiguration>

	<id>shapefileflow</id>

	<description>Sample injection of sparse shapefiles</description>
	<name>Shapefile</name>

	<autorun>true</autorun>

	<EventConsumerConfiguration>

		<listenerId>ConsumerLogger0</listenerId>
		<listenerId>Cumulator</listenerId>

		<GeoServerShapeActionConfiguration>
			<serviceID>ShapeFileGeoServerService</serviceID>
			<id>shapefile</id>
			<name>ShapeFileIngestion</name>
			<description>Get a pack of shapefiles (zipped) and ingest them into a
				GeoServer instance.</description>
			<defaultStyle>polygon</defaultStyle>
			<crs>EPSG:4326</crs>
			<envelope />
			<dataTransferMethod>DIRECT</dataTransferMethod>
			<wmsPath>/</wmsPath>
			<defaultNamespace>it_geosolutions</defaultNamespace>
			<storeName>shapefile_plus</storeName>
			<styles />
			<geoserverPWD>geoserver</geoserverPWD>
			<geoserverUID>admin</geoserverUID>
			<geoserverURL>http://localhost:8080/geoserver</geoserverURL>
			<charset>UTF-8</charset>
			<createSpatialIndex>true</createSpatialIndex>
			<memoryMappedBuffer>true</memoryMappedBuffer>
			<cacheAndReuseMemoryMaps>true</cacheAndReuseMemoryMaps>
		</GeoServerShapeActionConfiguration>

<!-- 		<GeoServerActionConfiguration> -->
<!-- 			<serviceID>ShapeFileGeoServerService</serviceID> -->
<!-- 			<id>shapefile</id> -->

<!-- 			<name>ShapeFileIngestion</name> -->
<!-- 			<description>Get a pack of shapefiles (zipped) and ingest them into a -->
<!-- 				GeoServer instance.</description> -->

<!-- 			<listenerId>StatusActionLogger0</listenerId> -->
<!-- 			<listenerId>ActionLogger0</listenerId> -->

<!-- 			<defaultStyle>polygon</defaultStyle> -->
<!-- 			<crs>EPSG:4326</crs> -->
<!-- 			<envelope /> -->
<!-- 			<dataTransferMethod>EXTERNAL</dataTransferMethod> -->
<!-- 			<wmsPath>/</wmsPath> -->
<!-- 			<defaultNamespace>it.geosolutions</defaultNamespace> -->

<!-- 			<styles /> -->
<!-- 			<geoserverPWD>geoserver</geoserverPWD> -->
<!-- 			<geoserverUID>admin</geoserverUID> -->
<!-- 			<geoserverURL>http://localhost:9090/geoserver</geoserverURL> -->

<!-- 		</GeoServerActionConfiguration> -->

	</EventConsumerConfiguration>

	<EventGeneratorConfiguration>
		<serviceID>fsEventGeneratorService</serviceID>

		<wildCard>*.*</wildCard>
		<watchDirectory>shapefileflow/in</watchDirectory>
		<osType>OS_UNDEFINED</osType>
		<eventType>FILE_ADDED</eventType>
	</EventGeneratorConfiguration>

	<ListenerConfigurations>
		<StatusProgressListener>
			<serviceID>statusListenerService</serviceID>
			<id>StatusActionLogger0</id>
		</StatusProgressListener>

		<LoggingProgressListener>
			<serviceID>loggingListenerService</serviceID>
			<id>ActionLogger0</id>

			<loggerName>it.geosolutions.ActionLogger</loggerName>
		</LoggingProgressListener>

		<LoggingProgressListener>
			<serviceID>loggingListenerService</serviceID>
			<id>ConsumerLogger0</id>

			<loggerName>it.geosolutions.ConsLogger</loggerName>
		</LoggingProgressListener>

		<CumulatingProgressListener>
			<serviceID>cumulatingListenerService</serviceID>
			<id>Cumulator</id>
		</CumulatingProgressListener>

	</ListenerConfigurations>

</FlowConfiguration>
